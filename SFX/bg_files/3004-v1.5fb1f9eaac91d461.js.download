"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3004],{85716:function(e,l,t){var i=t(5152),n=t.n(i);l.Z=n()(()=>t.e(7657).then(t.bind(t,47657)),{loadableGenerated:{webpack:()=>[47657]}}),n()(()=>t.e(7657).then(t.bind(t,47657)).then(e=>e.StyledNoResults),{loadableGenerated:{webpack:()=>[47657]}})},33004:function(e,l,t){t.r(l),t.d(l,{default:function(){return V}});var i=t(85893),n=t(38972),s=t(67294),o=t(60441),a=t(86800),r=t(16863),d=t(26315),u=t(87212),c=t(77522),h=t(16980),g=t(75459),v=t(49053),p=t(50564),m=t(85716),f=t(48082),y=t(32954),_=t(28477),x=t(31401),Z=t(4061),b=t(31024),S=t(45697),j=t.n(S),w=t(68458),E=t(76219),C=t(55202),k=t(49092),M=t(50223);let A=(0,w.ZP)(M.Z).attrs({as:"a",$family:"medium",$fontSize:"14px"}).withConfig({componentId:"sc-78208f79-0"})(["cursor:pointer;margin-top:8px;"]),T=w.ZP.div.withConfig({componentId:"sc-78208f79-1"})(["display:flex;margin-top:40px;margin-bottom:12px;max-width:100%;width:100%;.image-wrapper{height:80px;background:",";margin-right:16px;img{max-width:100%;}}","{display:flex;flex-direction:column;align-self:center;font-size:18px;","{font-size:17px;}","{font-size:16px;}}","{margin-top:12px;align-self:flex-start;font-size:14px;}"],(0,E.rS)("palette.imageTeaser.placeholder"),M.Z,k.PJ,k.Mq,A),N=e=>{let{imageSrc:l,imageAlt:t,width:n,...s}=e;return(0,i.jsxs)(T,{...s,children:[(0,i.jsx)("div",{className:"image-wrapper",children:l&&(0,i.jsx)("img",{alt:t,src:l,height:"80",width:n})}),(0,i.jsxs)(M.Z,{$family:"base",children:[(0,i.jsx)(C.c,{i18nKey:"similarimage-001",children:"Similar images"}),(0,i.jsx)(A,{onClick:e=>{e.preventDefault(),window.history.back()},children:(0,i.jsx)(C.c,{i18nKey:"similarimage-002",children:"Back"})})]})]})};N.propTypes={imageAlt:j().string.isRequired,imageSrc:j().string.isRequired};var I=t(71057),G=t(2408),R=t(8394),O=t(21928),F=t(69211),z=t(83047),L=t(94621),P=t(12397),$=t(869),D=t(9884),B=t(54857),H=t(77673),K=t(28332),U=t(31841),q=t(98719),Q=t(41501),W=t(28082),J=t(63799),Y=t(8468),V=e=>{var l,t,S,j,w,E,k,A,T,V,X,ee,el;let{user:et,userIsFetched:ei,searchQueries:en,searchTerm:es,topicEntity:eo,topicEntityIsFetched:ea,topicEntityIsLoading:er,feed:ed,hasSimilarImage:eu,similarImageQuery:ec,seoLoaded:eh,blurb:eg,blurbTitlePart:ev,setShowSearchDrawer:ep,showSearchDrawer:em,setMobileFiltering:ef,setMobileFilterCount:ey,isBoostPage:e_,handleBoostSearch:ex,sidebarState:eZ,searchTermIsSpam:eb=!1,showcasedImages:eS,showcasedImagesLoading:ej=!1,isDesktop:ew,hasHydrated:eE}=e,eC=(0,C.$)(),{queries:ek}=(0,Q.Z)(),{showRawpixelTeam:eM}=(0,U.ZP)(),eA=(0,D.I8)(),eT=(0,B.EC)(),eN=(0,Y.C_)(et,eM),[eI,eG]=(0,s.useState)(!0),{data:eR,isSuccess:eO}=ed,eF=ed.isPending||ej;(0,s.useEffect)(()=>{!eF&&et&&eT.isReady&&eG(!1)},[eF,et,eT.isReady]);let ez=(null===(t=ec.data)||void 0===t?void 0:null===(l=t.results)||void 0===l?void 0:l.length)&&(null===(S=ec.data.results[0])||void 0===S?void 0:S.id)?null===(j=ec.data)||void 0===j?void 0:j.results[0]:null,eL=eu&&(null==ez?void 0:ez.metadata)?null==ez?void 0:ez.metadata.description:"",eP=eu&&ez?Math.round((null==ez?void 0:ez.display_image_width)/(null==ez?void 0:ez.display_image_height)*80):0,e$=eu&&ez?eP>400?(0,P._N)(ez,500):eP>300?(0,P._N)(ez,400):eP>200?(0,P._N)(ez,300):(0,P._N)(ez,200):void 0,{results:eD,total:eB,rpa:eH,pinterest_totals:eK}=eR||{},{page:eU,totalPages:eq,pageSize:eQ}=(0,s.useMemo)(()=>(0,Y.zo)(en,eR),[eR,en]),eW=(null==eK?void 0:eK.user_remaining)||0,eJ=(null==eR?void 0:eR.spellcheck_result)&&!!(null==eR?void 0:null===(w=eR.spellcheck_result)||void 0===w?void 0:w.suggested_key),[eY,eV]=(0,s.useState)(!1),[eX,e0]=(0,s.useState)(!0),e1=(0,s.useCallback)(e=>{!0===e||!1===e?eV(e):eV(e=>!e)},[]),e8=s.useMemo(()=>{let{isActiveEntityFetching:e}=eZ;return!e},[eZ]),e7=ew||!eE;(0,s.useEffect)(()=>{(0,_.Q5)()},[eY,e7]),(0,s.useEffect)(()=>{eE&&eX&&ei&&e0(!1)},[ek.topic_group,ek.topic,eX,eE,eo,ei]);let e4=(0,s.useMemo)(()=>{var e;return eE&&((null==es?void 0:es.length)||(null==eH?void 0:null===(e=eH.image)||void 0===e?void 0:e.length))?(0,L.x)(JSON.stringify({keys:es||"",sortedKeys:(null==eH?void 0:eH.image)||""})):null},[es,null==eH?void 0:eH.image,eE]),e2=eh&&!eo&&!eu,e5=(0,s.useCallback)(()=>ep(!1),[ep]),{pathQuery:e6}=eZ||{},e3=(0,s.useMemo)(()=>{var e,l;return(null===(e=((null==e6?void 0:null===(l=e6.getFilters)||void 0===l?void 0:l.call(e6,"tag","tags_or","color","theme","hearted"))||[]).filter(e=>!("tag"===e.type&&Object.keys(K.s.elements).includes(e.value))).map(e=>e.valueArray()).flat())||void 0===e?void 0:e.length)||0},[e6]);(0,s.useEffect)(()=>{e7||(ey(e3),ef(e3>0))},[e7,e3,ef,null==eo?void 0:eo.id,ey]),(0,n.K)(()=>{var e;ei&&et&&(null==eH?void 0:null===(e=eH.image)||void 0===e?void 0:e.length)&&eO&&eA("search",et,{keys:es&&(null==es?void 0:es.length)?eb?eH.search:es:eH.image,total:eB,sortedKeys:eH.image,parameters:en}).then().catch()},[et,ei,es,null==eH?void 0:eH.image,eO,eB,en,eb]),(0,s.useEffect)(()=>{ei&&et&&(null==eo?void 0:eo.id)&&eA("topicview",et,{topicId:eo.id,topicType:eo.entity_type,viewmode:"search",topicTag:eo.tag}).then().catch()},[et,ei,null==eo?void 0:eo.id,null==eo?void 0:eo.tag,null==eo?void 0:eo.entity_type,eA]),(0,s.useEffect)(()=>{eR&&ei&&eU&&eO&&eA("feed",et,{feed:"search_feed",action:"view",value:(null==eH?void 0:eH.image)||"",page:eU,total:eB||0}).then().catch()},[et,ei,null==eH?void 0:eH.image,eU,eR,eB,eO,eA]);let[e9,le]=s.useMemo(()=>{if(!(null==eo?void 0:eo.type)&&!(null==eo?void 0:eo.id))return[null,null];let e=(0,q.S)({widgets:eo.widgets,title:eo.title,title_long:eo.title_long},null,"title");return eo.published||(e="".concat(e," (unpublished)")),[e,eo.seo_description]},[null==eo?void 0:eo.id,null==eo?void 0:eo.published,null==eo?void 0:eo.seo_description,null==eo?void 0:eo.title_long,null==eo?void 0:eo.title,null==eo?void 0:eo.type,null==eo?void 0:eo.widgets]),ll=(0,s.useMemo)(()=>{if(e_||!(null==eo?void 0:eo.type))return!1;if("topic_group"===eo.type&&eo.show_new_button)return!0;if("topic"===eo.type){var e,l;let t=new $.Z(ek.path).getLastOfType("group");if((null==t?void 0:t.id)&&(null===(l=eo.widgets)||void 0===l?void 0:null===(e=l[t.id])||void 0===e?void 0:e.show_new_button))return!0}return!1},[e_,null==eo?void 0:eo.type,null==eo?void 0:eo.show_new_button,null==eo?void 0:eo.widgets,ek.path]),lt=(0,s.useMemo)(()=>{if(!eE||!ei||!eT.isReady||er)return{visibility:J.A}},[eE,er,ei,eT.isReady]),li=(0,s.useMemo)(()=>{if(!ei||!eT.isReady||!eE||er||eF&&(eI||ll))return{visibility:J.A}},[eE,ei,er,eF,eI,ll,eT.isReady]),ln=(0,s.useMemo)(()=>{var e;return eE&&(null==eD?void 0:eD.length)>0&&!eo&&!eu&&!es&&!e_&&(null===(e=e6.getFilters("tag","tags_or","color","theme","hearted"))||void 0===e?void 0:e.length)===0},[eE,eu,e_,e6,null==eD?void 0:eD.length,es,eo]),ls=(0,s.useMemo)(()=>{if(ln)return(0,H.Z)(eC).map(e=>({...e,action:{...e.action}})).sort(()=>Math.random()-.5).slice(0,4)},[ln,eC]);return(0,i.jsxs)(i.Fragment,{children:[!e_&&ei&&eT.isReady&&!e7&&!eo&&!er&&(0,i.jsx)(I.Z,{defaultTab:"elements",mobileToolEnabled:eN}),(0,i.jsxs)("div",{className:"search-content",children:[(0,i.jsxs)(g.N4,{className:"results",style:lt,children:[(0,i.jsx)(d.Z,{searchEntity:eo,className:"search-wrapper",onImageSearch:e_?ex:null}),!eb&&!eJ&&!eo&&!er&&!e_&&!e7&&(null==es?void 0:es.length)>0&&(0,i.jsxs)(g.N4,{className:"mobile-seo-description",translate:"no",children:[(0,i.jsx)(M.Z,{as:"h1",$family:"medium",$capitalize:!0,$fontSize:"32px",$textAlign:"center",children:es}),(null==eg?void 0:eg.length)>0&&(0,i.jsx)(Z.B,{blurbTitlePart:ev,blurb:eg})]}),e_&&(0,i.jsx)(f.Z,{}),!e_&&(!!eo||!eE||!ea)&&(0,i.jsx)(r.Z,{title:e9,seoDescription:le,entity:eo,analyticsOrigin:"search_header"}),eu&&!!e$&&(0,i.jsx)(N,{imageSrc:e$,imageAlt:eL,width:eP}),eE&&!!et&&eJ&&(0,i.jsx)("div",{className:"spellcheck-result",translate:"no",children:(0,i.jsxs)(M.Z,{$family:"base",$fontSize:"16px",children:["No results".concat(eb?"":' for "'.concat((null==eR?void 0:null===(E=eR.spellcheck_result)||void 0===E?void 0:E.searched_key)||"",'"'),". Did you mean "),(0,i.jsx)(M.Z,{as:v.Z,$family:"medium",pathname:"/".concat(e_?"boost":"search","/").concat((null==eR?void 0:null===(k=eR.spellcheck_result)||void 0===k?void 0:k.suggested_key)||""),extra:"".concat(z.Z.COMMON.SORT,"=curated&").concat(z.Z.COMMON.PAGE,"=1"),children:(null==eR?void 0:null===(A=eR.spellcheck_result)||void 0===A?void 0:A.suggested_key)||""}),"?"]})}),!!eo&&eM&&!!(null==et?void 0:null===(T=et.access)||void 0===T?void 0:T.show_rawpixel_team)&&eE&&(0,i.jsx)(o.Z,{entity:eo}),!!eo&&(null==eo?void 0:null===(V=eo.assigned_artists)||void 0===V?void 0:V.length)>0&&(0,i.jsx)(h.Z,{className:"story-collaborators",children:eo.assigned_artists.map((e,l)=>{var t;return(0,i.jsx)(c.Z,{className:"story-collaborator",profile:e,showName:(null===(t=eo.assigned_artists)||void 0===t?void 0:t.length)===1},l)})}),!eu&&(0,i.jsx)(b.Z,{topicEntity:eo,showSearchFilters:!0,showDefaultFilters:e8,showSidebarCollapseButton:!0,onSidebarCollapseClick:e1,isCollapsed:eY,currentTagsQuery:en[z.Z.IMAGE.TAGS]||"",queries:en,urlQueries:ek,pathname:"/".concat(e_?"boost":"search").concat((null==es?void 0:es.length)?"/".concat(encodeURIComponent(es)):"")}),(!!(null==eD?void 0:eD.length)||eF)&&(0,i.jsx)(a.Z,{entity:eo,config:e_&&x.zT||x.Vs,images:eD,showcasedImages:eS,analyticsSearchData:e4,showCreateButton:ll,style:li,showCreativeCards:ln,creativeCards:ls}),eO&&!e_&&!(null==eD?void 0:eD.length)&&!eF&&(0,i.jsx)(i.Fragment,{children:en[z.Z.COMMON.FLAGGED_BY]&&(null==et?void 0:et.uid)===0?(0,i.jsx)(p.Z,{type:"favorites-logged-out"}):(0,i.jsx)(p.Z,{type:"image",rawSearchTerm:eb?"":es})}),e_&&eO&&!(null==eD?void 0:eD.length)&&!eF&&(0,i.jsx)(m.Z,{type:"pinterest-boost"}),(0,i.jsxs)("div",{className:"search-footer",children:[(0,i.jsx)(y.Z,{page:eU,hideNext:eU*eQ>=F.E7,pageSize:eQ,disabled:eF,totalPages:eq,totalResults:e_?eW:eB,resultsSearch:eJ?null==eR?void 0:null===(X=eR.spellcheck_result)||void 0===X?void 0:X.suggested_key:eb?"":es,boost:e_&&!eF&&!!eB,pathname:"/".concat(e_?"boost":"search").concat(eJ?"/".concat(encodeURIComponent(null==eR?void 0:null===(ee=eR.spellcheck_result)||void 0===ee?void 0:ee.suggested_key)):(null==es?void 0:es.length)?"/".concat(encodeURIComponent(es)):""),style:lt}),!e7&&!eu&&!!eB&&!eF&&(0,i.jsx)(b.Z,{topicEntity:eo,showSearchFilters:!1,currentTagsQuery:en[z.Z.IMAGE.TAGS]||"",queries:en,pathname:"/".concat(e_?"boost":"search").concat(eJ?"/".concat(encodeURIComponent(null==eR?void 0:null===(el=eR.spellcheck_result)||void 0===el?void 0:el.suggested_key)):(null==es?void 0:es.length)?"/".concat(encodeURIComponent(es)):"")}),e2&&eO&&!!eB&&!eb&&(0,i.jsx)("div",{className:"seo-description",children:(0,i.jsx)(W.Z,{server:!0,children:(null==eg?void 0:eg.length)>0&&(0,i.jsxs)(M.Z,{as:"h1",children:[!!ev&&(0,i.jsx)(M.Z,{$family:"medium",children:ev}),eg]})})}),e7&&!(null==et?void 0:et.premium)&&!O.y0.includes((null==et?void 0:et.rank)||"")&&!er&&!eo&&(!!(null==eD?void 0:eD.length)||eF&&eI)&&!e_&&(0,i.jsx)(R.Z,{style:li})]})]}),e7&&(0,i.jsx)(u.Z,{isCollapsed:eY,onCollapse:e1,sidebarState:eZ,className:"search-sidebar"}),!e7&&(0,i.jsx)(G.Z,{onClose:e5,open:em,pathSidebarState:eZ})]})]})}},98719:function(e,l,t){t.d(l,{S:function(){return g}});var i=t(85893),n=t(67294),s=t(83047),o=t(74309),a=t(869),r=t(86977),d=t(63727),u=t(83130),c=t(41501);let h=(e,l,t,i,n,s)=>({label:e,tag:l,key:t,searchOption:i,entity:n,...s}),g=function(e,l,t){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!e)return"";if("search_placeholder"===i&&l&&o.CUSTOM_SEARCH_PLACEHOLDER_TITLES[l])return o.CUSTOM_SEARCH_PLACEHOLDER_TITLES[l];if(l){let i=Object.keys(e.widgets).map(l=>e.widgets[l]).find(e=>{let{widget_tag:t}=e;return t===l});return(null==i?void 0:i.title)||t&&e[t]||e.title_long||e.title}return t&&e[t]||e.title_long||e.title};l.Z=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",{queries:t,path:v}=(0,c.Z)(),p=v.startsWith("/create/search"),m=(0,n.useMemo)(()=>new a.Z(t[s.Z.WEB.PATH]),[t]),{filterGroups:f=[]}=(0,u.Z)(),{data:y}=(0,r.B2)(o.AESTHETIC_THEMES_ID),_=(0,n.useMemo)(()=>{var e;return(null==y?void 0:null===(e=y.value)||void 0===e?void 0:e.themes)||[]},[y]),x=n.useMemo(()=>{if("header"===l)return[];let e=t[s.Z.IMAGE.TAGS]?t[s.Z.IMAGE.TAGS].split(",").filter(e=>e!==t.topic&&e!==t.topic_group):[];if(t[s.Z.WEB.PATH]){let l=[...m.getFilters("tag","tags_or","color","theme").map(e=>e.value),...m.getFilters("tags_or").map(e=>e.valueArray()).flat()];e.push(...l.map(e=>String(e))),m.getFilter("hearted")&&e.push(o.LIKES_TAG)}return(t[s.Z.IMAGE.TAGS_OR]&&e.push(...t[s.Z.IMAGE.TAGS_OR].split(",")),t[s.Z.COMMON.FLAGGED_BY]&&e.push(o.LIKES_TAG),e.length)?f.reduce((e,l)=>[...e,...l.filters],[]).map(l=>{if("sizes"===l.tag){let l=d.Z.find(l=>e.includes(l.tag));if(l)return{...l,published:!0}}return l}).filter(l=>l.published&&(e.includes(l.tag)||"sizes"===l.tag&&d.Z.some(l=>e.includes(l.tag)))):[]},[f,t,l,m]);return n.useMemo(()=>{let n=[];if(e){let l=g(e,null,null,"search_placeholder");n.push(h(l,e.tag,"".concat(e.type,"-").concat(e.tag),p?1:0,e))}x.length&&x.forEach(e=>{n.push(h(e.name,e.tag,"".concat(e.name,"-").concat(e.tag),p?1:0,null,{filter:!0}))});let o=t[s.Z.IMAGE.TAGS]?t[s.Z.IMAGE.TAGS].split(",").filter(e=>e!==t.topic&&e!==t.topic_group):[];if("header"!==l){var a,r,d;let e=t[s.Z.IMAGE.COLOR]||(null===(a=m.getFilter("color"))||void 0===a?void 0:a.value);if(e&&(null===(d=e.toString)||void 0===d?void 0:null===(r=d.call(e))||void 0===r?void 0:r.length))n.push(h((0,i.jsxs)("div",{className:"color-tag",children:[(0,i.jsx)("span",{style:{background:e}}),"Color"]}),null,"colorTag-"+e.toString().replace("#",""),p?1:0,null,{filter:!0}));else if(_.length>0&&(null==o?void 0:o.length)>0&&_.some(e=>o.includes(e.tag))){let e=_.find(e=>o.includes(e.tag)),l=e.icon_url;(null==l?void 0:l.length)&&n.push(h((0,i.jsxs)("div",{className:"color-tag",children:[(0,i.jsx)("span",{style:{background:"url(".concat(l,")")}}),"Color"]}),e.tag,"theme-color-".concat(l,"-").concat(e.tag),0,null,{filter:!0}))}else if(m.getFilter("theme")){let e=m.getFilter("theme"),l=_.find(l=>l.tag===e.value).icon_url;(null==l?void 0:l.length)&&n.push(h((0,i.jsxs)("div",{className:"color-tag",children:[(0,i.jsx)("span",{style:{background:"url(".concat(l,")")}}),"Color"]}),e.value,"theme-color-".concat(l,"-").concat(e.value),0,null,{filter:!0}))}}return{placeholders:{},searchTags:n.filter((e,l,t)=>{if(t.findIndex(l=>l.tag===e.tag)===l)return!0}).slice(0,20)}},[e,x,t,l,p,m,_])}}}]);